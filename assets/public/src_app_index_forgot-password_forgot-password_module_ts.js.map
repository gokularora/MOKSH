{"version":3,"sources":["./src/app/index/forgot-password/forgot-password-routing.module.ts","./src/app/index/forgot-password/forgot-password.module.ts","./src/app/index/forgot-password/forgot-password.page.ts","./src/app/services/notification.service.ts","./src/app/index/forgot-password/forgot-password.page.scss","./src/app/index/forgot-password/forgot-password.page.html"],"names":[],"mappings":"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","file":"src_app_index_forgot-password_forgot-password_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ForgotPasswordPage } from './forgot-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotPasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ForgotPasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotPasswordPageRoutingModule } from './forgot-password-routing.module';\r\n\r\nimport { ForgotPasswordPage } from './forgot-password.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ForgotPasswordPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [ForgotPasswordPage]\r\n})\r\nexport class ForgotPasswordPageModule {}\r\n","import { StorageService } from 'src/app/services/storage.service';\r\nimport { Router } from '@angular/router';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.page.html',\r\n  styleUrls: ['./forgot-password.page.scss'],\r\n})\r\nexport class ForgotPasswordPage implements OnInit {\r\n  ionicForm: FormGroup;\r\n  OTPForm: FormGroup;\r\n  isSubmitted = false;\r\n  isOpen : boolean = false;\r\n  isOTPValid: boolean;\r\n  OTP=\"\";\r\n  myPassword=\"\";\r\n  isLoading : boolean = false;\r\n  isLoadingOTP : boolean = false;\r\n  savedMobileNo : \"\";\r\n  constructor(public formBuilder: FormBuilder, \r\n    private auth : AuthService, \r\n    public toastr : ToastService,\r\n    private notification: NotificationService, \r\n    private router: Router,\r\n    private storage : StorageService\r\n    ) { }\r\n\r\n  ionViewWillEnter(){\r\n    this.autoFill();\r\n  }\r\n\r\n  ngOnInit() {    \r\n    this.ionicForm = this.formBuilder.group({     \r\n      MobileNo: ['', [Validators.required, Validators.pattern('^([0-9]{10})$')]],\r\n    })\r\n    this.OTPForm = this.formBuilder.group({     \r\n      otp1: ['', [Validators.required]],\r\n      otp2: ['', [Validators.required]],\r\n      otp3: ['', [Validators.required]],\r\n      otp4: ['', [Validators.required]]\r\n    })\r\n  }\r\n  get errorControl() {\r\n    return this.ionicForm.controls;\r\n  }\r\n  get errorOTPControl() {\r\n    return this.OTPForm.controls;\r\n  }\r\n\r\n  autoFill() {\r\n    this.storage.getObject(\"saved\").then(resp => {\r\n      if (resp != null) {\r\n        this.savedMobileNo = resp[\"MobileNo\"];        \r\n        if (resp[\"MobileNo\"].indexOf('+91') >= 0) {\r\n          resp[\"MobileNo\"] = resp[\"MobileNo\"].replace('+91', '')\r\n        }\r\n        this.ionicForm.controls.MobileNo.setValue(resp[\"MobileNo\"]);        \r\n      }\r\n    })\r\n  }\r\n  submitForm(){\r\n    this.isSubmitted = true;\r\n    \r\n    if (!this.ionicForm.valid) {\r\n      this.toastr.toastSuccess(\"Please provide all the required values!\");      \r\n      return false;\r\n    } else {\r\n      this.isLoading = true;\r\n      let postData = {\"MobileNo\" : \"+91\"+this.ionicForm.value.MobileNo.toString()}\r\n      this.auth.getPassword(JSON.stringify(postData)).then(resp => {\r\n        if(resp.statusCode == 200){\r\n          this.myPassword = resp.password;\r\n          var otpGenerator = require('otp-generator');\r\n          this.OTP = otpGenerator.generate(4, { upperCase: false, alphabets: false, specialChars: false });\r\n          console.log(this.OTP); \r\n          this.isSubmitted = false;        \r\n          this.sendSMSOTP(this.ionicForm.value.MobileNo.toString());\r\n        }\r\n      }).catch(err => {this.isLoading = false; console.log(err); this.toastr.toastError(\"OTP not sent due to some technical problem. Please try after some time\")\r\n      })\r\n    }\r\n  }\r\n\r\n  sendSMSOTP(mobileNo) {    \r\n    let messageBody =  \"Hi, \" +this.OTP + \" is your One Time Password (OTP) for recover your password at MOKSH App. Do not share your OTP with anyone.\";\r\n    let postSmsData = { \"MobileNo\":mobileNo, \"MessageBody\": messageBody };\r\n    this.notification.sendSMS(JSON.stringify(postSmsData)).then(resp => {      \r\n      this.toastr.toastSuccess(\"OTP Sent Successfully!\");\r\n      this.isOpen = true;\r\n      this.isLoading = false;\r\n    }).catch(err => {this.toastr.toastError(\"OTP not sent due to some technical problem. Please try after some time\"); this.isLoading = false;});    \r\n  }\r\n\r\n  submitForgotPassword() {\r\n    if (!this.OTPForm.valid) {\r\n      this.toastr.toastSuccess(\"Please Enter OTP!\");\r\n      return false;\r\n    } else {\r\n      this.isLoadingOTP = true;\r\n      var enteredOTP = `${this.OTPForm.value.otp1}${this.OTPForm.value.otp2}${this.OTPForm.value.otp3}${this.OTPForm.value.otp4}`;\r\n      if (this.OTP == enteredOTP) {\r\n        let messageBody = \"Your recovered password for MOKSH App is \" + this.myPassword+\". Do not share it with anyone.\";\r\n        let postSmsData = { \"MobileNo\": \"91\"+this.ionicForm.value.MobileNo.toString(), \"MessageBody\": messageBody };\r\n        this.notification.sendSMS(JSON.stringify(postSmsData)).then(resp => {\r\n          console.log(resp.status);\r\n          this.toastr.toastSuccess(\"We have sent password on your registered mobile no\");\r\n          this.isOpen = false;\r\n          setTimeout(() => {\r\n            this.isLoadingOTP = false;\r\n            this.router.navigate([\"/login\"]);\r\n          }, 1000);\r\n        })\r\n          .catch(err => {\r\n            this.isLoadingOTP = false;\r\n            console.log(err.title);\r\n            this.toastr.toastError(\"OTP not sent due to some technical problem. Please try after some time\");\r\n          })\r\n          // var subject = \"Password for MOKSH Application\"\r\n          // this.sendEmail(subject,messageBody,this.ionicForm.value.EmailID.toString())          \r\n      }\r\n      else{\r\n        this.toastr.toastError(\"You have entered wrong OTP. Please try again with correct OTP\");\r\n        this.OTPForm.reset();\r\n        this.isLoadingOTP = false;\r\n      }\r\n    }\r\n  }\r\n  sendEmail(subject, messageBody, emailId){\r\n    let postData = { \"Subject\": subject, \"MessageBody\": messageBody, \"ToAddress\":emailId};\r\n        this.notification.sendEmail(JSON.stringify(postData)).then(resp => {\r\n          console.log(resp.status);\r\n          this.toastr.toastSuccess(\"Email Sent Successfully!\");\r\n          this.auth.isTimeOut = false;\r\n          this.router.navigate(['/otp-verification']);  \r\n        })\r\n        .catch(err => {\r\n            console.log(err.title);\r\n            this.toastr.toastError(\"OTP not sent due to some technical problem. Please try after some time\");            \r\n          })\r\n  }\r\n\r\n  tooglePanelClose(){\r\n    this.isOpen = false;\r\n  }  \r\n  otpController(event, next, prev) {\r\n    if (event.keyCode === 8 && prev) {\r\n      prev.setFocus();\r\n    } else if (event.keyCode >= 48 && event.keyCode <= 57) {\r\n      if (next) {\r\n        next.setFocus();\r\n      }\r\n    } else if (event.keyCode >= 96 && event.keyCode <= 105) {\r\n      if (next) {\r\n        next.setFocus();\r\n      }\r\n    } else {\r\n      event.path[0].value = '';\r\n    }    \r\n  }\r\n  clear(event){\r\n    event.target.value = \"\";\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment.prod';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class NotificationService {\r\n  api = environment.apiUrl;  \r\n  whatsappAPI = environment.whatsappAPI;\r\n  headerOption = { headers: new HttpHeaders({ 'Content-Type': 'application/json' }) };\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  sendSMS(body : any){\r\n    const url = this.api + 'CommunicationHandler/SMS';    \r\n    return this.http.post<any>(url, body.toString(), this.headerOption).toPromise();\r\n  }\r\n  sendEmail(body : any){\r\n    const url = this.api + 'CommunicationHandler/Email';    \r\n    return this.http.post<any>(url, body.toString(), this.headerOption).toPromise();\r\n  }\r\n  sendWhatsApp(body :any){\r\n    const url = this.whatsappAPI;   \r\n    return this.http.post<any>(url, body.toString()).toPromise();\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3Jnb3QtcGFzc3dvcmQucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"index/login\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title></ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form class=\\\"form-cont\\\" [formGroup]=\\\"ionicForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\r\\n    <h5 class=\\\"text-center\\\">Forgot Password?</h5>\\r\\n\\r\\n    <br>\\r\\n    <div>\\r\\n      <p class=\\\"text-center\\\">Enter your Registered Mobile No and verify to recover your password</p>\\r\\n    </div>\\r\\n    \\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <span class=\\\"error error-outline\\\" *ngIf=\\\"isSubmitted && errorControl.MobileNo.errors?.required\\\"></span>\\r\\n            <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\r\\n              <ion-icon name=\\\"call-outline\\\"></ion-icon>\\r\\n              <ion-label position=\\\"floating\\\">Contact No.</ion-label>\\r\\n              <ion-input maxlength=\\\"12\\\" size=\\\"large\\\" name=\\\"username\\\" type=\\\"number\\\" formControlName=\\\"MobileNo\\\" required>\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <span class=\\\"error\\\" *ngIf=\\\"isSubmitted && errorControl.MobileNo.errors?.pattern\\\">Please provide valid Mobile\\r\\n              No.</span>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n      <section class=\\\"btn-cont\\\">\\r\\n        <ion-button size=\\\"large\\\" expand=\\\"block\\\" color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"!ionicForm.valid\\\">Submit\\r\\n          <ion-ripple-effect></ion-ripple-effect>\\r\\n          <ion-spinner name=\\\"lines\\\" slot=\\\"end\\\" *ngIf=\\\"isLoading\\\"></ion-spinner>\\r\\n        </ion-button>\\r\\n      </section>    \\r\\n  </form>\\r\\n\\r\\n  <section class=\\\"toogle-panel bottom\\\" [ngClass]=\\\"{isOpen: isOpen}\\\">\\r\\n    <div class=\\\"toogle-cont\\\">\\r\\n      <ion-text class=\\\"btn-close\\\" (click)=\\\"tooglePanelClose()\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n      </ion-text>\\r\\n      <p>We have sent 4 digit OTP to verify your mobile number.</p>\\r\\n      <p>Please enter your 4 digit OTP to verify</p>\\r\\n      <form class=\\\"form-cont no-icon p-0\\\" [formGroup]=\\\"OTPForm\\\" (ngSubmit)=\\\"submitForgotPassword()\\\" (ionFocus)=\\\"clear($event)\\\" novalidate>\\r\\n        <ion-grid class=\\\"otp-cont\\\">\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <span class=\\\"error error-outline\\\" *ngIf=\\\"isSubmitted && errorOTPControl.otp1.errors?.required\\\"></span>\\r\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\r\\n                <ion-input maxlength=\\\"1\\\" pattern=\\\"[0-9]{1}\\\" size=\\\"large\\\" type=\\\"number\\\" formControlName=\\\"otp1\\\" #otp1\\r\\n                  (keyup)=\\\"otpController($event,otp2,'')\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <span class=\\\"error error-outline\\\" *ngIf=\\\"isSubmitted && errorOTPControl.otp2.errors?.required\\\"></span>\\r\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\r\\n                <ion-input maxlength=\\\"1\\\" pattern=\\\"[0-9]{1}\\\" size=\\\"large\\\" type=\\\"number\\\" formControlName=\\\"otp2\\\" #otp2\\r\\n                  (keyup)=\\\"otpController($event,otp3,otp1)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <span class=\\\"error error-outline\\\" *ngIf=\\\"isSubmitted && errorOTPControl.otp3.errors?.required\\\"></span>\\r\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\r\\n                <ion-input maxlength=\\\"1\\\" pattern=\\\"[0-9]{1}\\\" size=\\\"large\\\" type=\\\"number\\\" formControlName=\\\"otp3\\\" #otp3\\r\\n                  (keyup)=\\\"otpController($event,otp4,otp2)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <span class=\\\"error error-outline\\\" *ngIf=\\\"isSubmitted && errorOTPControl.otp4.errors?.required\\\"></span>\\r\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\r\\n                <ion-input maxlength=\\\"1\\\" pattern=\\\"[0-9]{1}\\\" type=\\\"number\\\" formControlName=\\\"otp4\\\" #otp4\\r\\n                  (keyup)=\\\"otpController($event,'',otp3)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n        <section class=\\\"btn-cont\\\">\\r\\n          <ion-button  expand=\\\"block\\\" color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"!OTPForm.valid\\\">Submit\\r\\n            <ion-ripple-effect></ion-ripple-effect>\\r\\n            <ion-spinner name=\\\"lines\\\" slot=\\\"end\\\" *ngIf=\\\"isLoadingOTP\\\"></ion-spinner>\\r\\n          </ion-button>\\r\\n        </section>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </section>\\r\\n\\r\\n</ion-content>\";"],"sourceRoot":"webpack:///"}